@import 'tailwindcss';
@import 'tw-animate-css';
@plugin '@tailwindcss/typography';

/* Cash Sans */

@custom-variant dark (&:where(.dark, .dark *));

@theme {
  --shadow-*: initial;

  --color-white: #ffffff;
  --color-black: #000000;

  --color-neutral-50: #f4f6f7;
  --color-neutral-100: #e3e6ea;
  --color-neutral-200: #cbd1d6;
  --color-neutral-300: #a7b0b9;
  --color-neutral-400: #7b8895;
  --color-neutral-500: #606c7a;
  --color-neutral-600: #525b68;
  --color-neutral-700: #474e57;
  --color-neutral-800: #3f434b;
  --color-neutral-900: #32353b;
  --color-neutral-950: #22252a;

  --color-red-100: #ff6b6b;
  --color-red-200: #f94b4b;

  --color-blue-100: #7cacff;
  --color-blue-200: #5c98f9;

  --color-green-100: #a3d795;
  --color-green-200: #91cb80;

  --color-yellow-100: #ffd966;
  --color-yellow-200: #fbcd44;

  --color-accent: var(--color-neutral-900);
}

:root {
  /* fonts */
  --font-sans: 'Cash Sans', sans-serif;
  --font-mono: 'Cash Sans Mono', monospace;

  /* theming accents */
  --background-accent: var(--color-accent);
  --border-accent: var(--color-accent);
  --text-accent: var(--color-accent);
  --text-on-accent: var(--color-white);

  /* Semantic */
  --background-app: var(--color-white);
  --background-default: var(--color-white);
  --background-card: var(--color-white);
  --background-muted: var(--color-neutral-50);
  --background-medium: var(--color-neutral-100);
  --background-strong: var(--color-neutral-300);
  --background-inverse: var(--color-black);
  --background-danger: var(--color-red-200);
  --background-success: var(--color-green-200);
  --background-info: var(--color-blue-200);
  --background-warning: var(--color-yellow-200);

  --border-default: var(--color-neutral-100);
  --border-input: var(--color-neutral-100);
  --border-strong: var(--color-neutral-100);
  --border-danger: var(--color-red-200);
  --border-success: var(--color-green-200);
  --border-warning: var(--color-yellow-200);
  --border-info: var(--color-blue-200);

  --text-default: var(--color-neutral-800);
  --text-muted: var(--color-neutral-400);
  --text-inverse: var(--color-white);
  --text-danger: var(--color-red-200);
  --text-success: var(--color-green-200);
  --text-warning: var(--color-yellow-200);
  --text-info: var(--color-blue-200);

  --ring: var(--border-strong);

  --sidebar: var(--background-muted);
  --sidebar-foreground: var(--text-default);
  --sidebar-primary: var(--background-accent);
  --sidebar-primary-foreground: var(--text-inverse);
  --sidebar-accent: var(--background-muted);
  --sidebar-accent-foreground: var(--text-default);
  --sidebar-border: var(--border-default);
  --sidebar-ring: var(--border-default);

  /* custom shadow */

  --shadow-default:
    0px 12px 32px 0px rgba(0, 0, 0, 0.04), 0px 8px 16px 0px rgba(0, 0, 0, 0.02),
    0px 2px 4px 0px rgba(0, 0, 0, 0.04), 0px 0px 1px 0px rgba(0, 0, 0, 0.2);
}

.dark {
  /* theming accents */
  --background-accent: var(--color-white);
  --border-accent: var(--color-white);
  --text-accent: var(--color-white);
  --text-on-accent: var(--color-black);

  /* semantic */
  --background-app: var(--color-neutral-950);
  --background-default: var(--color-neutral-950);
  --background-card: var(--color-neutral-950);
  --background-muted: var(--color-neutral-800);
  --background-medium: var(--color-neutral-700);
  --background-strong: var(--color-neutral-600);
  --background-danger: var(--color-red-100);
  --background-success: var(--color-green-100);
  --background-info: var(--color-blue-100);
  --background-warning: var(--color-yellow-100);

  --border-default: var(--color-neutral-800);
  --border-input: var(--color-neutral-800);
  --border-strong: var(--color-neutral-700);
  --border-danger: var(--color-red-100);
  --border-success: var(--color-green-100);
  --border-warning: var(--color-yellow-100);
  --border-info: var(--color-blue-100);

  --text-default: var(--color-white);
  --text-muted: var(--color-neutral-400);
  --text-inverse: var(--color-black);
  --text-danger: var(--color-red-100);
  --text-success: var(--color-green-100);
  --text-warning: var(--color-yellow-100);
  --text-info: var(--color-blue-100);

  --ring: var(--border-strong);

  --sidebar: var(--background-default);
  --sidebar-foreground: var(--text-default);
  --sidebar-primary: var(--background-accent);
  --sidebar-primary-foreground: var(--text-inverse);
  --sidebar-accent: var(--background-muted);
  --sidebar-accent-foreground: var(--text-default);
  --sidebar-border: var(--border-default);
  --sidebar-ring: var(--border-default);

  --shadow-default:
    0px 12px 32px 0px rgba(0, 0, 0, 0.2), 0px 8px 16px 0px rgba(0, 0, 0, 0.15),
    0px 2px 4px 0px rgba(0, 0, 0, 0.1), 0px 0px 1px 0px rgba(0, 0, 0, 0.3);
}

@theme inline {
  --ease-g2: cubic-bezier(0.55, 0, 1, 0.45);

  --color-background-default: var(--background-default);
  --color-background-muted: var(--background-muted);
  --color-background-medium: var(--background-medium);
  --color-background-strong: var(--background-strong);
  --color-background-inverse: var(--background-inverse);
  --color-background-danger: var(--background-danger);
  --color-background-success: var(--background-success);
  --color-background-info: var(--background-info);
  --color-background-warning: var(--background-warning);
  --color-background-card: var(--background-card);

  --color-background-accent: var(--background-accent);
  --color-border-accent: var(--border-accent);
  --color-text-accent: var(--text-accent);
  --color-text-on-accent: var(--text-on-accent);

  --color-border-default: var(--border-default);
  --color-border-input: var(--border-input);
  --color-border-strong: var(--border-strong);
  --color-border-danger: var(--border-danger);
  --color-border-success: var(--border-success);
  --color-border-warning: var(--border-warning);
  --color-border-info: var(--border-info);

  --color-text-default: var(--text-default);
  --color-text-muted: var(--text-muted);
  --color-text-inverse: var(--text-inverse);
  --color-text-danger: var(--text-danger);
  --color-text-success: var(--text-success);
  --color-text-warning: var(--text-warning);
  --color-text-info: var(--text-info);

  --font-sans: 'Cash Sans', sans-serif;
  --font-mono: 'Cash Sans Mono', monospace;
  --font-serif: serif;

  --color-ring: var(--ring);

  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  --shadow-default: var(--shadow-default);
}

@layer base {
  * {
    @apply border-border-default;
  }
  body {
    @apply text-text-default;
  }
}

@font-face {
  font-family: 'Cash Sans';
  src:
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff2/CashSans-Light.woff2)
      format('woff2'),
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff/CashSans-Light.woff) format('woff');
  font-weight: 300;
  font-style: normal;
}

@font-face {
  font-family: 'Cash Sans';
  src:
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff2/CashSans-Regular.woff2)
      format('woff2'),
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff/CashSans-Regular.woff)
      format('woff');
  font-weight: 400;
  font-style: normal;
}

@font-face {
  font-family: 'Cash Sans';
  src:
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff2/CashSans-Medium.woff2)
      format('woff2'),
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff/CashSans-Medium.woff) format('woff');
  font-weight: 500;
  font-style: normal;
}

@font-face {
  font-family: 'Cash Sans Mono';
  src:
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff2/CashSansMono-Regular.woff2)
      format('woff2'),
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff/CashSansMono-Regular.woff)
      format('woff');
  font-weight: 500;
  font-style: normal;
}

@font-face {
  font-family: 'Cash Sans Mono';
  src:
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff2/CashSansMono-Light.woff2)
      format('woff2'),
    url(https://cash-f.squarecdn.com/static/fonts/cashsans/woff/CashSansMono-Light.woff)
      format('woff');
  font-weight: 300;
  font-style: normal;
}

/* @theme {
  --slate: #393838;

  --block-teal: #13bbaf;
  --block-orange: #ff4f00;

  --constant-white: #ffffff;
  --constant-black: #000000;
  --grey-10: #101010;
  --grey-20: #1e1e1e;
  --grey-50: #666666;
  --grey-60: #959595;
  --grey-80: #cccccc;
  --grey-85: #dadada;
  --grey-90: #e8e8e8;
  --grey-95: #f0f0f0;
  --dark-grey-15: #1a1a1a;
  --dark-grey-25: #232323;
  --dark-grey-30: #2a2a2a;
  --dark-grey-40: #333333;
  --dark-grey-45: #595959;
  --dark-grey-60: #878787;
  --dark-grey-90: #e1e1e1;
} */

/* :root {
  --spring-easing: linear(
    0,
    0.009,
    0.035 2.1%,
    0.141,
    0.281 6.7%,
    0.723 12.9%,
    0.938 16.7%,
    1.017,
    1.077,
    1.121,
    1.149 24.3%,
    1.159,
    1.163,
    1.161,
    1.154 29.9%,
    1.129 32.8%,
    1.051 39.6%,
    1.017 43.1%,
    0.991,
    0.977 51%,
    0.974 53.8%,
    0.975 57.1%,
    0.997 69.8%,
    1.003 76.9%,
    1.004 83.8%,
    1
  );
  --spring-duration: 1.333s;

  --background-app: var(--constant-white);
  --background-prominent: var(--grey-80);
  --background-standard: var(--grey-90);
  --background-subtle: var(--grey-95);
  --background-app-inverse: var(--constant-black);
  --background-subtle-inverse: var(--dark-grey-15);
  --background-standard-inverse: var(--dark-grey-25);
  --background-prominent-inverse: var(--dark-grey-40);

  --border-divider: var(--grey-90);
  --border-inverse: var(--constant-white);
  --border-prominent: var(--grey-10);
  --border-standard: var(--grey-60);
  --border-subtle: var(--grey-90);

  --icon-disabled: var(--grey-60);
  --icon-extra-subtle: var(--grey-60);
  --icon-inverse: var(--constant-white);
  --icon-prominent: var(--grey-10);
  --icon-standard: var(--grey-20);
  --icon-subtle: var(--grey-50);

  --text-placeholder: var(--grey-60);
  --text-prominent: var(--grey-10);
  --text-standard: var(--grey-20);
  --text-standard-inverse: var(--dark-grey-90);
  --text-subtle: var(--grey-50);
  --text-subtle-inverse: var(--dark-grey-60);
  --text-prominent-inverse: var(--constant-white);
}

.dark {
  --background-app: var(--constant-black);
  --background-prominent: var(--dark-grey-40);
  --background-standard: var(--dark-grey-25);
  --background-subtle: var(--dark-grey-15);
  --background-app-inverse: var(--constant-white);
  --background-subtle-inverse: var(--grey-95);
  --background-standard-inverse: var(--grey-90);
  --background-prominent-inverse: var(--grey-80);

  --border-divider: var(--dark-grey-25);
  --border-inverse: var(--constant-black);
  --border-prominent: var(--constant-white);
  --border-standard: var(--dark-grey-45);
  --border-subtle: var(--dark-grey-25);

  --icon-disabled: var(--dark-grey-45);
  --icon-extra-subtle: var(--dark-grey-45);
  --icon-inverse: var(--constant-black);
  --icon-prominent: var(--constant-white);
  --icon-standard: var(--dark-grey-90);
  --icon-subtle: var(--dark-grey-60);

  --text-placeholder: var(--dark-grey-45);
  --text-prominent: var(--constant-white);
  --text-standard: var(--dark-grey-90);
  --text-standard-inverse: var(--grey-20);
  --text-subtle: var(--dark-grey-60);
  --text-subtle-inverse: var(--grey-50);
  --text-prominent-inverse: var(--grey-20);
}

@theme inline {
  --color-background-app: var(--background-app);
  --color-background-prominent: var(--background-prominent);
  --color-background-standard: var(--background-standard);
  --color-background-subtle: var(--background-subtle);
  --color-background-app-inverse: var(--background-app-inverse);
  --color-background-subtle-inverse: var(--background-subtle-inverse);
  --color-background-standard-inverse: var(--background-standard-inverse);
  --color-background-prominent-inverse: var(--background-prominent-inverse);

  --color-border-divider: var(--border-divider);
  --color-border-inverse: var(--border-inverse);
  --color-border-prominent: var(--border-prominent);
  --color-border-standard: var(--border-standard);
  --color-border-subtle: var(--border-subtle);

  --color-icon-disabled: var(--icon-disabled);
  --color-icon-extra-subtle: var(--icon-extra-subtle);
  --color-icon-inverse: var(--icon-inverse);
  --color-icon-prominent: var(--icon-prominent);
  --color-icon-standard: var(--icon-standard);
  --color-icon-subtle: var(--icon-subtle);

  --color-text-placeholder: var(--text-placeholder);
  --color-text-prominent: var(--text-prominent);
  --color-text-standard: var(--text-standard);
  --color-text-standard-inverse: var(--text-standard-inverse);
  --color-text-subtle: var(--text-subtle);
  --color-text-subtle-inverse: var(--text-subtle-inverse);
  --color-text-prominent-inverse: var(--text-prominent-inverse);
} */

/* animations */
@keyframes appear {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fade-slide-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-slide-up {
  animation: fade-slide-up 0.3s ease-out forwards;
}

/* Force scrollbars to be visible */
[data-radix-scroll-area-viewport] {
  scrollbar-width: auto !important;
  -ms-overflow-style: auto !important;
}

/* Override Radix UI ScrollArea styles */
[data-radix-scroll-area-viewport] > div {
  display: block !important;
}

/* Native scrollbar styling */
* {
  scrollbar-width: auto;
  scrollbar-color: var(--color-neutral-200) transparent;
}

.dark * {
  scrollbar-color: var(--color-neutral-400) transparent;
}

/* Webkit scrollbar styles */
::-webkit-scrollbar {
  -webkit-appearance: none;
  width: 12px; /* Increased from 8px */
  height: 12px;
  background-color: transparent;
}

::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 0;
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-200);
  border: 3px solid transparent; /* Creates padding effect */
  border-radius: 8px;
  background-clip: padding-box;
  min-height: 40px; /* Minimum height of thumb */
}

.dark ::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-400);
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-neutral-300);
  border: 2px solid transparent; /* Slightly less padding on hover */
}

.dark ::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-neutral-500);
}

/* Ensure the thumb is more prominent when active */
::-webkit-scrollbar-thumb:active {
  background-color: var(--color-neutral-400);
  border: 2px solid transparent;
}

.dark ::-webkit-scrollbar-thumb:active {
  background-color: var(--color-neutral-500);
}

::-webkit-scrollbar-track {
  background: transparent;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--color-neutral-200);
  border-radius: 4px;
}

.dark ::-webkit-scrollbar-thumb {
  background: var(--color-neutral-400);
}

::-webkit-scrollbar-thumb:hover {
  background: var(--color-neutral-300);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: var(--color-neutral-500);
}

body {
  background-color: var(--background-app);
}

.word-break {
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
}

.titlebar-drag-region {
  -webkit-app-region: drag;
  height: 32px;
  width: 100%;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 50;
}

.no-drag {
  -webkit-app-region: no-drag;
}

.bg-inline-code {
  border-radius: 4px;
  color: var(--color-neutral-200);
  font-family: 'Cash Sans Mono', monospace;
  font-size: 12px;
  font-style: normal;
  font-weight: 400;
  line-height: normal;
}

.bg-inline-code:before {
  content: '';
}

pre:has(> code.bg-inline-code) {
  padding: 1em;
}

li > code.bg-inline-code,
p > code.bg-inline-code {
  color: var(--block-orange);
  padding: 2px 4px;
}

.bg-inline-code:after {
  content: '';
}

.user-message p {
  margin-bottom: 0 !important;
}

.scrollbar-thin {
  scrollbar-width: thin;
}

/* chat connectors */

/* .user:has(+ .assistant) {
  position: relative;
}

.user::before {
  content: '';
  position: absolute;
  top: 18px;
  left: -2px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: var(--background-medium);
}

.user:has(+ .assistant)::before {
  content: '';
  position: absolute;
  top: 20px;
  left: 0px;
  width: 1px;
  height: 0;
  background-color: var(--border-default);
  animation: grow-height 0.3s forwards;
}

.user:has(+ .assistant)::after {
  content: '';
  position: absolute;
  top: 18px;
  left: -2px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: var(--background-medium);
}

.assistant:has(+ .assistant) {
  position: relative;
}

.assistant:has(+ .assistant)::before {
  content: '';
  position: absolute;
  top: 20px;
  left: 0px;
  width: 1px;
  height: 0;
  background-color: var(--border-default);
  animation: grow-height 0.3s forwards;
}

.assistant::after {
  content: '';
  position: absolute;
  top: 18px;
  left: -2px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: var(--background-medium);
} */

/* .assistant:has(+ .assistant)::after {
  content: '';
  position: absolute;
  top: 18px;
  left: -2px;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background-color: var(--background-medium);
} */

.assistant:has(+ .user) .goose-message {
  padding-bottom: 24px;
}

/* .assistant:has(+ .user) .goose-message::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 50%;
  height: 1px;
  background-color: var(--border-default);
} */

/* @keyframes grow-height {
  from {
    height: 0;
  }
  to {
    height: calc(100% + 16px);
  }
} */

/* Virtualized list styles */
.virtualized-list {
  scrollbar-width: thin;
  scrollbar-color: var(--color-neutral-300) transparent;
}

.virtualized-list::-webkit-scrollbar {
  width: 8px;
}

.virtualized-list::-webkit-scrollbar-track {
  background: transparent;
}

.virtualized-list::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-300);
  border-radius: 4px;
}

.dark .virtualized-list::-webkit-scrollbar-thumb {
  background-color: var(--color-neutral-400);
}

.virtualized-list::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-neutral-400);
}

.dark .virtualized-list::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-neutral-300);
}

/* Ensure virtualized items don't have margin/padding that could break layout */
.virtualized-list > div {
  outline: none;
}

/* Optimize performance for virtualized rendering */
.virtualized-list * {
  contain: layout style paint;
}
